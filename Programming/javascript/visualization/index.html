<html>
    <head>
        <!-- Link to latest version of D3.js and other dependencies needed for the plotting library--->
        <script src="https://d3js.org/d3.v4.min.js"></script>
        <script src="http://labratrevenge.com/d3-tip/javascripts/d3.tip.v0.6.3.js"></script>

        <!--Script for requesting the data -->
        <script type="text/javascript">
            function processInput(){
                var form = document.getElementById("form");
                var data = {};

                data[text] = form.content;
                //Prepare the connection
                var xhr = new XMLHttpRequest();
                xhr.open("POST", "http://localhost:5000/predict/single" );
                xhr.setRequestHeader('Content-Type', 'application/json; charset=UTF-8');
                xhr.responseType = 'json';
                xhr.onload = function() { //Handles the response by the server
                    var status = xhr.status;
                    if (status == 200) {
                        alert('Something went wrong: ' + xhr.response);
                    } else {
                        //TODO: Initialize the visualization.
                    }
                };
                xhr.send(JSON.stringify(data));

            }
        </script>
    </head>
    <body>
        <div id="title">
            <h1>Visualization</h1>
        </div>
        <div>
            <form id="form">
                <textarea placeholder="input a post..." rows="6" name="content"></textarea>
                <button action="POST" value="">Submit</button>
            </form>
        </div>
    </body>
</html>